<div *ngIf="datasource.isLoading |async">
Loading...
</div>


<div class="container-fluid">
    <table mat-table matSort matSortDisableClear (matSortChange)="sortUsers($event)" [dataSource]="datasource" class="table-responsive">
        <ng-container matColumnDef="id">
            <th mat-header-cell mat-sort-header sortActionDescription="Sort by number" *matHeaderCellDef>User Id</th>
            <td mat-cell *matCellDef="let item">
                {{item.userId}}
            </td>
        </ng-container>
        <ng-container matColumnDef="firstName">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>FirstName</th>
            <td mat-cell *matCellDef="let item">
                {{item.firstName}}
            </td>
        </ng-container>

        <ng-container matColumnDef="lastName">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>LastName</th>
            <td mat-cell *matCellDef="let item">
                {{item.lastName}}
            </td>
        </ng-container>

        <ng-container matColumnDef="gender">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>Gender</th>
            <td mat-cell *matCellDef="let item">
                {{item.gender}}
            </td>
        </ng-container>

        <ng-container matColumnDef="DOB">
            <th mat-header-cell *matHeaderCellDef>DOB</th>
            <td mat-cell *matCellDef="let item">
                {{item.DOB|date}}
            </td>
        </ng-container>

        <ng-container matColumnDef="phoneNumber">
            <th mat-header-cell *matHeaderCellDef>Phone Number</th>
            <td mat-cell *matCellDef="let item">
                {{item.phoneNumber}}
            </td>
        </ng-container>

        <ng-container matColumnDef="role">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>Role</th>
            <td mat-cell *matCellDef="let item">
                {{item.roleId}}
            </td>
        </ng-container>


        <ng-container matColumnDef="orderCount">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>Number Of Orders</th>
            <td mat-cell *matCellDef="let item">
                {{item.orderCount}}
            </td>
        </ng-container>

        <ng-container matColumnDef="email">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let item">
                {{item.email}}
            </td>
        </ng-container>

        <ng-container matColumnDef="operations">
            <th mat-header-cell *matHeaderCellDef>Operations</th>
            <td mat-cell *matCellDef="let item">
                <button mat-icon-button (click)="editUser(item)">Edit</button>
                <button mat-icon-button (click)="deleteUser(item)">Delete</button>
                <button mat-icon-button (click)="viewDetails(item)">Details</button>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row;columns:displayedColumns"></tr>

    </table>
    <mat-paginator [pageSizeOptions]="[1, 5, 10]" showFirstLastButtons aria-label="Select page of periodic elements">
    </mat-paginator>
</div>